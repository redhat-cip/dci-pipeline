- job:
    name: dci-pipeline-tests-7
    description: job to run the example pipeline
    pre-run: zuul.d/pre-run.yaml
    run: zuul.d/run.yaml
    required-projects:
      - dci-dev-env
      - dci-control-server
      - python-dciclient
      - python-dciauth
      - dci-ui
      - dci-doc
      - dci-ansible
    nodeset:
      nodes:
        - name: testrunner7
          label: dib-dci-centos-7

- job:
    name: dci-pipeline-tests-8
    parent: dci-pipeline-tests-7
    nodeset:
      nodes:
        - name: testrunner8
          label: dib-dci-centos-8


- project:

    check:
      jobs:
        - dci-pipeline-tests-7

        - dci-pipeline-tests-8

        - tox:
            vars:
              tox_envlist: pep8

    gate:
      jobs:
        - dci-pipeline-tests-7

        - dci-pipeline-tests-8

        - tox:
            vars:
              tox_envlist: pep8
